ent_backup_restore.enterprise_backup_merge_tests.EnterpriseBackupMergeTest:
# json data
    test_multiple_backups_merges,actions="backup:2,merge:1&2,backup:2,merge:2&3,merge:1&2"
# Multiple incremental backup/merge
    test_multiple_backups_merges,actions="backup_with_ops:3,merge:1&3,backup_with_ops:2,merge:1&3,backup_with_ops:3,merge:2&4,backup_with_ops:2,merge:2&4,merge:1&2"
# Compact merged backups and merge the compacted backups.
    test_multiple_backups_merges,actions="backup_with_ops:3,merge:1&3,compact_backup:1,backup_with_ops:2,merge:2&3,compact_backup:2,backup_with_ops:3,merge:3&5,compact_backup:3,backup_with_ops:2,merge:4&5,compact_backup:4,merge:1&4"
# Mutate multiple times
    test_multiple_backups_merges,actions="backup:3,bucket_ops,backup:2,merge:1&5,backup:3,bucket_ops,backup:2,merge:2&6,merge:1&2"
# Backup with rebalance and merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",nodes_in=1
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_in=1
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_in=1
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",nodes_out=1
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_out=1
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_out=1
# Backup with hard failover and merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",nodes_init=3
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_init=3
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_init=3
# Backup with graceful failover and full recovery, merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",nodes_init=3
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_init=3
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_init=3
# Backup with CURD operations, Rebalance in node and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_in=1
# Backup with CURD operations, Rebalance out nodes and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_out=1
# Backup with CURD operations, Swap rebalance nodes and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_in=1, nodes_out=1
# Backup with CURD operations, Hard failover node, merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:hard,remove_node,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover:hard,remove_node,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and fully recover the node, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover:graceful&full,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover:graceful&full,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and delta recover the node, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover:graceful&delta,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover:graceful&delta,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and fully recover the node after backup, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:full,merge:1&5,backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:full,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and delta recover the node after backup, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:delta,merge:1&5,backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:delta,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operations, Hard failover node with CURD operations, merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:hard,remove_node,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_with_ops:hard,remove_node,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and fully recover the node with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover_with_ops:graceful&full,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover_with_ops:graceful&full,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and delta recover the node with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover_with_ops:graceful&delta,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover_with_ops:graceful&delta,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and fully recover the node after backup with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:full,merge:1&5,backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:full,merge:2&6,merge:1&2",nodes_init=3
# Backup with CURD operation, graceful failover node and delta recover the node after backup with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:delta,merge:1&5,backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:delta,merge:2&6,merge:1&2",nodes_init=3
# Delete bucket, add bucket, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,delete_buckets:1,backup_with_ops:1,create_buckets:1,backup_with_ops:1,merge:1&4",standard_buckets=2
# Compact bucket, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,compact_buckets,backup_with_ops:1,compact_buckets:1,backup_with_ops:1,merge:1&4"
# Flush bucket and recreate data, merge, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,flush_buckets:1,load_flushed_bucket:1,backup_with_ops:1,flush_buckets:1,load_flushed_bucket:1,backup_with_ops:1,merge:1&4",standard_buckets=2
# Delete recreate buckets and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,delete_buckets:2,backup_with_ops:2,merge:1&5,backup_with_ops:3,create_buckets:2,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3
    test_multiple_backups_merges,actions="backup_with_ops:3,delete_buckets:2,backup_with_ops:2,merge:1&5,backup_with_ops:3,recreate_buckets:2,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3
# Compact bucket and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,compact_buckets,backup_with_ops:2,merge:1&5,backup_with_ops:3,compact_buckets,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3
# Flush bucket and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,flush_buckets:1,load_flushed_bucket,backup_with_ops:2,merge:1&5,backup_with_ops:3,flush_buckets:1,load_flushed_bucket,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3
# Multiple merges
    test_multiple_backups_merges,actions="backup:5,merge",repeats=2
    test_multiple_backups_merges,actions="backup:5,merge",repeats=5
# Expiry
    test_multiple_backups_merges,actions="backup_with_expiry:2,merge",expires=60
    test_multiple_backups_merges,actions="backup_after_expiry:2,merge",expires=60
    test_multiple_backups_merges,actions="backup_with_expiry:2,merge:1&2,backup_after_expiry:2,merge:2&3,merge:1&2",expires=60
    test_multiple_backups_merges,actions="backup_after_expiry:2,merge:1&2,backup_with_expiry:2,merge:2&3,merge:1&2",expires=60

# Binary documents
    test_multiple_backups_merges,actions="backup:2,merge:1&2,backup:2,merge:2&3,merge:1&2",document_type="binary"
# Multiple incremental backup/merge
    test_multiple_backups_merges,actions="backup_with_ops:3,merge:1&3,backup_with_ops:2,merge:1&3,backup_with_ops:3,merge:2&4,backup_with_ops:2,merge:2&4,merge:1&2",document_type="binary"
# Compact merged backups and merge the compacted backups.
    test_multiple_backups_merges,actions="backup_with_ops:3,merge:1&3,compact_backup:1,backup_with_ops:2,merge:2&3,compact_backup:2,backup_with_ops:3,merge:3&5,compact_backup:3,backup_with_ops:2,merge:4&5,compact_merge:4,merge:1&4",document_type="binary"
# Mutate multiple times
    test_multiple_backups_merges,actions="backup:3,bucket_ops,backup:2,merge:1&5,backup:3,bucket_ops,backup:2,merge:2&6,merge:1&2",document_type="binary"
# Backup with rebalance and merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",nodes_in=1,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_in=1,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_in=1,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",nodes_out=1,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_out=1,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,rebalance,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_out=1,document_type="binary"
# Backup with hard failover and merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",nodes_init=3,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_init=3,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,failover:hard,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_init=3,document_type="binary"
# Backup with graceful failover and full recovery, merge, sanity tests
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",nodes_init=3,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",standard_buckets=2,include-buckets='default',nodes_init=3,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:2,failover_and_recover:full,backup_with_ops:1,merge",standard_buckets=2,exclude-buckets='default',nodes_init=3,document_type="binary"
# Backup with CURD operations, Rebalance in node and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_in=1,document_type="binary"
# Backup with CURD operations, Rebalance out nodes and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_out=1,document_type="binary"
# Backup with CURD operations, Swap rebalance nodes and merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,rebalance,backup_with_ops:3,merge:1&5,backup_with_ops:3,rebalance,backup_with_ops:3,merge:2&6,merge:1&2",nodes_in=1, nodes_out=1,document_type="binary"
# Backup with CURD operations, Hard failover node, merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:hard,remove_node,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover:hard,remove_node,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and fully recover the node, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover:graceful&full,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover:graceful&full,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and delta recover the node, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover:graceful&delta,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover:graceful&delta,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and fully recover the node after backup, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:full,merge:1&5,backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:full,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and delta recover the node after backup, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:delta,merge:1&5,backup_with_ops:3,failover:graceful,backup_with_ops:2,recover:delta,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operations, Hard failover node with CURD operations, merge scenario
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:hard,remove_node,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_with_ops:hard,remove_node,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and fully recover the node with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover_with_ops:graceful&full,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover_with_ops:graceful&full,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and delta recover the node with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_and_recover_with_ops:graceful&delta,backup_with_ops:2,merge:1&5,backup_with_ops:3,failover_and_recover_with_ops:graceful&delta,backup_with_ops:2,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and fully recover the node after backup with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:full,merge:1&5,backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:full,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Backup with CURD operation, graceful failover node and delta recover the node after backup with CURD operations, merge
    test_multiple_backups_merges,actions="backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:delta,merge:1&5,backup_with_ops:3,failover_with_ops:graceful,backup_with_ops:2,recover_with_ops:delta,merge:2&6,merge:1&2",nodes_init=3,document_type="binary"
# Delete bucket, add bucket, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,delete_buckets:1,backup_with_ops:1,create_buckets:1,backup_with_ops:1,merge:1&4",standard_buckets=2,document_type="binary"
# Compact bucket, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,compact_buckets,backup_with_ops:1,compact_buckets:1,backup_with_ops:1,merge:1&4",document_type="binary"
# Flush bucket and recreate data, merge, sanity
    test_multiple_backups_merges,actions="backup_with_ops:2,flush_buckets:1,load_flushed_bucket:1,backup_with_ops:1,flush_buckets:1,load_flushed_bucket:1,backup_with_ops:1,merge:1&4",standard_buckets=2,document_type="binary"
# Delete recreate buckets and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,delete_buckets:2,backup_with_ops:2,merge:1&5,backup_with_ops:3,create_buckets:2,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3,document_type="binary"
    test_multiple_backups_merges,actions="backup_with_ops:3,delete_buckets:2,backup_with_ops:2,merge:1&5,backup_with_ops:3,recreate_buckets:2,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3,document_type="binary"
# Compact bucket and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,compact_buckets,backup_with_ops:2,merge:1&5,backup_with_ops:3,compact_buckets,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3,document_type="binary"
# Flush bucket and merge
    test_multiple_backups_merges,actions="backup_with_ops:3,flush_buckets:1,load_flushed_bucket,backup_with_ops:2,merge:1&5,backup_with_ops:3,flush_buckets:1,load_flushed_bucket,backup_with_ops:2,merge:2&6,merge:1&2",standard_buckets=3,document_type="binary"
# Multiple merges
    test_multiple_backups_merges,actions="backup:5,merge",repeats=2,document_type="binary"
    test_multiple_backups_merges,actions="backup:5,merge",repeats=5,document_type="binary"

