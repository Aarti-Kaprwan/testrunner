eventing.eventing_rebalance.EventingRebalance:
    # Test rebalance in with different cluster topologies
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-kv-eventing-index:n1ql,groups=simple,services_in=eventing,reset_services=True,GROUP=bucket_op
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-kv:eventing-kv:eventing-index:n1ql,groups=simple,services_in=kv,eventing,reset_services=True,GROUP=bucket_op
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:fts-eventing:fts-index:n1ql,groups=simple,services_in=eventing,fts,reset_services=True,GROUP=bucket_op
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:index-eventing:index-index:n1ql,groups=simple,services_in=index,eventing,reset_services=True,GROUP=bucket_op
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-eventing:n1ql-eventing:index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,GROUP=bucket_op
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing-eventing-index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,GROUP=bucket_op
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,services_in=kv,index,eventing,n1ql,reset_services=True,GROUP=bucket_op
    # Test rebalance out with different cluster topologies
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,reset_services=True,GROUP=bucket_op
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,reset_services=True,GROUP=bucket_op
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,reset_services=True,GROUP=bucket_op
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,reset_services=True,GROUP=bucket_op
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,reset_services=True,GROUP=bucket_op
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,reset_services=True,GROUP=bucket_op
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,reset_services=True,GROUP=bucket_op
    # Test swap rebalance with different cluster topologies
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,services_in=eventing,reset_services=True,GROUP=bucket_op
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,services_in=kv,eventing,reset_services=True,GROUP=bucket_op
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,services_in=eventing,fts,reset_services=True,GROUP=bucket_op
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,services_in=index,eventing,reset_services=True,GROUP=bucket_op
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,services_in=eventing,n1ql,reset_services=True,GROUP=bucket_op
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,services_in=eventing,n1ql,reset_services=True,GROUP=bucket_op
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,services_in=kv,index,eventing,n1ql,reset_services=True,GROUP=bucket_op
    ###############################################################################
    ###### Repeat the rebalance test with bucket_op_with_timers handler code ######
    ###############################################################################
    # Test rebalance in with different cluster topologies
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-kv-eventing-index:n1ql,groups=simple,services_in=eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-kv:eventing-kv:eventing-index:n1ql,groups=simple,services_in=kv,eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:fts-eventing:fts-index:n1ql,groups=simple,services_in=eventing,fts,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:index-eventing:index-index:n1ql,groups=simple,services_in=index,eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-eventing:n1ql-eventing:index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing-eventing-index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,services_in=kv,index,eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    # Test rebalance out with different cluster topologies
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    # Test swap rebalance with different cluster topologies
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,services_in=eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,services_in=kv,eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,services_in=eventing,fts,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,services_in=index,eventing,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,services_in=eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,services_in=eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,services_in=kv,index,eventing,n1ql,reset_services=True,handler_code=bucket_op_with_timers,GROUP=bucket_op_with_timers
    #############################################################################
    ###### Repeat the rebalance test with n1ql_op_with_timers handler code ######
    #############################################################################
    # Test rebalance in with different cluster topologies
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-kv-eventing-index:n1ql,groups=simple,services_in=eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-kv:eventing-kv:eventing-index:n1ql,groups=simple,services_in=kv,eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-eventing:fts-eventing:fts-index:n1ql,groups=simple,services_in=eventing,fts,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-eventing:index-eventing:index-index:n1ql,groups=simple,services_in=index,eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv:index:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-eventing-eventing-index:n1ql,groups=simple,services_in=eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_in_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv:index:n1ql-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,services_in=kv,index,eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    # Test rebalance out with different cluster topologies
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_rebalance_out_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv:index:n1ql-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    # Test swap rebalance with different cluster topologies
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-kv-eventing-eventing-index:n1ql,groups=simple,server_out=2,services_in=eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-kv:eventing-kv:eventing-kv:eventing-index:n1ql,groups=simple,server_out=3,services_in=kv,eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing:fts-eventing:fts-eventing:fts-index:n1ql,groups=simple,server_out=2,services_in=eventing,fts,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing:index-eventing:index-eventing:index-index:n1ql,groups=simple,server_out=3,services_in=index,eventing,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=4,services_init=kv:index:n1ql-eventing:n1ql-eventing:n1ql-eventing:index:n1ql,groups=simple,server_out=2,services_in=eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=5,services_init=kv:index:n1ql-eventing-eventing-eventing:index:n1ql-eventing:n1ql,groups=simple,server_out=4,services_in=eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
    # Removing 1 service as the VM's don't have enough RAM to run all services
    test_swap_rebalance_with_different_topologies,doc-per-day=10,dataset=default,nodes_init=3,services_init=kv:index:n1ql-kv:index:eventing:n1ql-kv:index:eventing:n1ql,groups=simple,server_out=2,services_in=kv,index,eventing,n1ql,reset_services=True,handler_code=n1ql_op_with_timers,GROUP=n1ql_op_with_timers
